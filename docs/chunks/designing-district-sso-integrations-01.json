{
  "id": "designing-district-sso-integrations-01",
  "url": "https://dev.clever.com/docs/il-design",
  "path": "/docs/il-design",
  "section": "Discovered",
  "title": "Designing District SSO Integrations",
  "heading": "Designing District SSO Integrations",
  "headingLevel": 0,
  "parentHeadings": [
    "Designing District SSO Integrations"
  ],
  "content": "If they are hosted on your domain, you can simply generate and append a `state` parameter to the Log in with Clever links. There is no extra redirect necessary. However, if the Log in with Clever links are not hosted on your domain, you will need to \"re-redirect\" similar to the portal links described above, since you will by default get a `code` with no `state`.\n\n## \n\nOther options\n\n[](#other-options)\n\nWe recommend redirecting users to another page of your application after sign in, so that redirect URIs and existing `code` values are not bookmarked or linger in a user's browser bar and history.\n\nFinally, some applications may want to use Javascript and HTML to modify the browser history to no longer include the redirect URI with code value, though this approach has varying browser support.\n\n## \n\nWhat to do if you've already re-exchanged a code\n\n[](#what-to-do-if-youve-already-re-exchanged-a-code)\n\nIf you do end up exchanging an already used authorization code and receive a HTTP 400 with `\"error\": \"invalid_grant\"` and `\"error_description\": \"invalid code\"`, it is pretty likely the code was already exchanged.\n\nWe recommend redirecting the user to their Clever Portal ([https://clever.com/login](https://clever.com/login)) or to a Log in with Clever link. This way, the user will never be \"stuck\" on a failed OAuth screen. When the user attempts to log back in, Clever will also send the user back to your redirect URI with a fresh code value.\n\n## \n\nMatching accounts on login\n\n[](#matching-accounts-on-login)\n\nWhen you complete the OAuth process, you're left with a token that grants access to information about the user. How do you go from there to determining which record should be accessed?\n\nThe best identifier for users is the Clever `id` - this is globally unique and the most stable ID we offer.  \nIf you already know the user's Clever `id`, then you should use that to identify the account.\n\nIf the Clever ID doesn't yet exist in your system, you have a few options:\n\n## \n\nMatching algorithms\n\n[](#matching-algorithms)\n\nAfter you've hit the /me endpoint, you can check other fields on the user record to see if there's an account that already exists - if you are a Secure Sync customer, you can compare against other fields like sis_id, student_/teacher\\_number, email address, etc. If you are using Instant Login only, you will have access to the user's first name, last name, and email address. If you find a match, associate the Clever ID with the account you find for future logins.\n\n## \n\nUsers claim existing accounts\n\n[](#users-claim-existing-accounts)\n\n### \n\nQuerying on first login\n\n[](#querying-on-first-login)\n\nWhen users log in with Instant Login for the first time, display a page that prompts them to log in to an existing account if they have one. When a user logs in with valid credentials, tie their Clever ID to the existing account.\n\n### \n\n\"Connect Clever Account\" option\n\n[](#connect-clever-account-option)\n\nWhen a user is logged in to their account, allow them the option to \"Connect a Clever account\" - essentially, you'll use a Log in with Clever button. When the user logs in through Clever, grab the Clever ID and associate it with the existing account.\n\n## \n\nProvisioning on Demand\n\n[](#provisioning-on-demand)\n\nIf your application is Instant Login only, you must have a method of provisioning accounts on demand - you should create an account for any users if you are unable to find a matching account. Use the relevant information from // to fill any required fields and make sure you store user's Clever ID as a key identifier for their next login.\n\n## \n\nBinary vs Hybrid Logins\n\n[](#binary-vs-hybrid-logins)\n\nMany applications already have other methods of access (e.g. app-specific credentials, Google auth, etc). You do not have to make Instant Login the only login method for your application - we can co-exist with your existing system. We refer to any system where Instant Login is not the only login method as a hybrid login system.\n\nSome applications do choose to use IL exclusively for their districts. We refer to this as a binary login system.\n\n## \n\nProvisioning credentials for hybrid logins\n\n[](#provisioning-credentials-for-hybrid-logins)\n\nMost districts do not store student and teacher usernames and passwords in their SIS, and thus Clever does not recommend relying on the Clever data feed for user credentials.\n\nDistricts typically fall into one of two categories regarding their preferences for secondary credentials:\n\n-   No strong preference, happy to have assigned credentials that they can share with students and teachers (Assign Credentials)\n-   Have existing usernames in the SIS and want to pass them through Clever\n\n## \n\nAssigning credentials\n\n[](#assigning-credentials)\n\nUnless you're solely using Clever Instant Login to sign users in, Clever recommends that you assign secondary credentials for your students and teachers with the following strategies:\n\n-   Students\n-   Username: We recommend giving schools a few choices - possibly differentiated by grade level (ex. 1st graders need simpler options than 10th graders). Some popular options include `email`, FLast, FirstL, `student_number`\n-   Passwords: If you need passwords, Clever recommends generating your own passwords using sensible defaults (e.g. a default word such as \"banana\" or the student's ID) and requiring the student or teacher to change the password afterwards.\n-   Teachers and administrators\n-   Username: We strongly recommend using `email` address as a teacher or admin's username.\n-   Password: We recommend inviting teachers to their accounts via email and letting them set own password on first login.\n-   We recommend allowing teachers and administrators to reset teacher passwords.\n\n## \n\nUsernames from Clever\n\n[](#usernames-from-clever)",
  "tokenEstimate": 1451,
  "crawledAt": "2026-03-02T06:18:37.709Z",
  "fetchMethod": "static",
  "chunkIndex": 1,
  "totalChunks": 3
}